<html>
<head>
    <meta charset="UTF-8"/>
    <meta name="x-cat-tags" content="heatMap"/>
    <script src="../../anychart.min.js"></script>
    <script x-export="chart">
        anychart.onDocumentReady(function() {
            // Creates data set.
            var dataSet = anychart.data.set([
                {x: "California", y: "2004", heat: 1704211},
                {x: "California", y: "2005", heat: 2782680},
                {x: "California", y: "2006", heat: 2992679},
                {x: "Illinois", y: "2004", heat: 727914},
                {x: "Illinois", y: "2005", heat: 1150659},
                {x: "Illinois", y: "2006", heat: 1134085},
                {x: "Massachusetts", y: "2004", heat: 238819},
                {x: "Massachusetts", y: "2005", heat: 157719},
                {x: "Massachusetts", y: "2006", heat: 887169},
                {x: "New York", y: "2004", heat: 1667969},
                {x: "New York", y: "2005", heat: 2763503},
                {x: "New York", y: "2006", heat: 3151022},
                {x: "Texas", y: "2004", heat: 219967},
                {x: "Texas", y: "2005", heat: 3732889},
                {x: "Texas", y: "2006", heat: 4185098}
            ]);

            chart = anychart.heatMap();

            var view = dataSet.mapAs();

            var filteredView = view.filter("heat", function(heat) {
                return heat >= 1300000;
            });

            // Set data.
            chart.data(filteredView);

            chart.title("Set chart data using view.");
            chart.labels(true);
            chart.container("container");
            chart.draw();
        });
    </script>
</head>
<body>
<div id="container" style="width: 100%; height: 100%"></div>
</body>
</html>